# ビットコインのキー（鍵）学習ノート

---

## 1. 2種類の鍵の概要

ビットコインの取引は、**秘密鍵（Private Key）** と **公開鍵（Public Key）** という1対の鍵をもとに成り立っている。

| 区分 | 秘密鍵 (Private Key) | 公開鍵 (Public Key) |
|------|----------------------|---------------------|
| 別名 | 個人鍵 | 公開鍵 |
| 公開の可否 | 絶対に非公開（本人のみ所持） | 誰でも見ることができる |
| 役割 | 取引への**署名**（消費権限の証明） | ビットコインの**受信アドレス**生成に使用 |

---

## 2. 公開鍵はどのように作られるか

```
秘密鍵（Private Key）
      ×
ジェネレーターポイント G（Generator Point、固定された定数）
      ↓
  【楕円曲線点乗算（Elliptic Curve Point Multiplication）】
      ↓
公開鍵（Public Key）
```

- **ジェネレーターポイント（G）**: ビットコインのプロトコルに固定された楕円曲線上の特定座標値（定数）
- ここで使われる**「乗算」**は通常の掛け算ではなく、**楕円曲線上で定義された特殊な数学演算**である。

---

## 3. 数学的な一方向性（One-Way Function）

この2つの鍵の間には重要な数学的性質がある。

```
秘密鍵  →  公開鍵   （計算可能、非常に簡単）
公開鍵  →  秘密鍵   （逆算不可能、事実上不可）
```

> 公開鍵がわかっていても、秘密鍵を逆算することは現在のコンピューティング能力では事実上不可能である。  
> この**一方向性**がビットコインのセキュリティの数学的基盤となっている。

---

## 4. 各鍵の役割

### 公開鍵 → ビットコインの受信（受け取るとき）
- 公開鍵から**ビットコインアドレス（Address）**が派生する。
- このアドレスを相手に知らせることで、相手がそのアドレスへビットコインを送ることができる。
- 公開鍵は誰に公開しても安全である。

### 秘密鍵 → ビットコインの消費（送るとき）
- 受け取ったビットコインを**他の場所へ送るには**、取引への**署名（Signature）**が必要になる。
- この署名は**秘密鍵**によってのみ生成できる。
- 署名は「この取引は本当の所有者が承認した」という数学的証拠となる。

---

## 5. 全体の流れまとめ

```
【秘密鍵の生成】
      ↓
【公開鍵の生成】= 秘密鍵 × ジェネレーターポイント(G)  （楕円曲線演算）
      ↓
【ビットコインアドレスの生成】= 公開鍵をハッシュ処理
      ↓
このアドレスでビットコインの受信が可能
      ↓
ビットコインを送るとき → 秘密鍵で署名 → ネットワーク伝播 → マイニング → ブロックチェーン記録
```

> 公開鍵とビットコインアドレスは共有しても安全だが、  
> **秘密鍵を紛失・流出させると、そのビットコインに対するすべての権限を失うことになる。**